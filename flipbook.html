<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VOLUME 1</title>

<style>
/* ------------------------------------------------------ */
/* GLOBAL */
/* ------------------------------------------------------ */
body {
    background: #f3f7f4;  /* soft pastel sage */
    font-family: "Inter", sans-serif;
    margin: 0;
    user-select: none;
}

h1 {
    text-align: center;
    padding: 22px 0 10px;
    font-size: 2rem;
    font-weight: 600;
    color: #2d3e32;
}

/* ------------------------------------------------------ */
/* BOOK CONTAINER */
/* ------------------------------------------------------ */
#book {
    width: 850px;
    height: 600px;
    margin: 25px auto;
    position: relative;
    perspective: 1600px;
}

/* Static Pages */
.page {
    width: 550px;
    height: 100%;
    position: absolute;
    top: 0;
    overflow: hidden;
    background: white;
    border-radius: 4px;
    box-shadow: 0 0 20px rgba(0,0,0,0.08);
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* Left & Right static pages */
.left { left: 0; }
.right { left: 550px; }

/* Page images */
.page img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    backface-visibility: hidden;
    will-change: transform;
}

/* ------------------------------------------------------ */
/* FLIP PAGE (Animated) */
/* ------------------------------------------------------ */
.flip {
    width: 425px;
    height: 100%;
    position: absolute;
    top: 0;
    overflow: hidden;
    background: white;
    display: none;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    transform: translateZ(0);
    will-change: transform;
}

/* Image inside flipping page */
.flip img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    backface-visibility: hidden;
}

/* Page curl shadow */
.flip::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 40%;
    height: 100%;
    background: linear-gradient(to left, rgba(0,0,0,0.15), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.flip.flipping::after {
    opacity: 1;
}

/* ------------------------------------------------------ */
/* CONTROLS */
/* ------------------------------------------------------ */
.controls {
    text-align: center;
    margin: 20px 0 10px;
}

.ctrl {
    padding: 12px 25px;
    margin: 0 10px;
    border: none;
    border-radius: 12px;
    background: #8fbf9f;        /* pastel green */
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: 0.25s ease;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.ctrl:hover {
    background: #7aaa8b;
    transform: translateY(-2px);
}

.arrow {
    font-size: 28px;
    font-weight: 600;
    padding: 10px 20px;
}

/* ------------------------------------------------------ */
/* THUMBNAIL STRIP */
/* ------------------------------------------------------ */
#thumbStrip {
    width: 100%;
    display: flex;
    overflow-x: auto;
    gap: 12px;
    padding: 15px;
    justify-content: center;
}

.thumbnail {
    width: 90px;
    height: 120px;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: 0.2s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.thumbnail:hover {
    border-color: #8fbf9f;
}
</style>
</head>


<body>

<h1>VOLUME 1</h1>

<div id="book">
    <div class="page left" id="leftPage"></div>
    <div class="page right" id="rightPage"></div>
    <div class="flip" id="flipPage"></div>
</div>

<!-- Pastel arrow controls -->
<div class="controls">
    <button id="firstBtn" class="ctrl">⏮</button>
    <button id="prevBtn" class="ctrl arrow">←</button>
    <button id="nextBtn" class="ctrl arrow">→</button>
    <button id="lastBtn" class="ctrl">⏭</button>
</div>

<!-- Thumbnails -->
<div id="thumbStrip"></div>



<script>
/* ------------------------------------------------------ */
/* PAGE IMAGE LIST */
/* ------------------------------------------------------ */
const pages = [
    "pages/vol1/2.png",
    "pages/vol1/3.png",
    "pages/vol1/4.png",
    "pages/vol1/5.png",
    "pages/vol1/6.png",
    "pages/vol1/7.png",
    "pages/vol1/8.png",
    "pages/vol1/9.png",
    "pages/vol1/10.png",
    "pages/vol1/11.png",
    "pages/vol1/12.png",
    "pages/vol1/13.png",
    "pages/vol1/14.png",
    "pages/vol1/15.png",
    "pages/vol1/16.png",
    "pages/vol1/17.png",
    "pages/vol1/18.png",
    "pages/vol1/19.png",
    "pages/vol1/20.png",
    "pages/vol1/21.png",
    "pages/vol1/22.png",
    "pages/vol1/23.png",
    "pages/vol1/24.png",
    "pages/vol1/25.png",
    "pages/vol1/26.png",
    "pages/vol1/27.png",
    "pages/vol1/28.png",
    "pages/vol1/29.png",
    "pages/vol1/30.png",
    "pages/vol1/31.png",
    "pages/vol1/32.png",
    "pages/vol1/33.png",
    "pages/vol1/34.png",
    "pages/vol1/35.png"
];

/* ------------------------------------------------------ */
/* PRELOAD IMAGES (Instant Page Turns!) */
/* ------------------------------------------------------ */
function preloadImages(list) {
    list.forEach(src => {
        const img = new Image();
        img.src = src;
    });
}
preloadImages(pages);


/* ------------------------------------------------------ */
/* DOM REFERENCES */
/* ------------------------------------------------------ */
let spread = 0;
const leftPage = document.getElementById("leftPage");
const rightPage = document.getElementById("rightPage");
const flipPage = document.getElementById("flipPage");
const thumbStrip = document.getElementById("thumbStrip");


/* ------------------------------------------------------ */
/* RENDER PAGES */
/* ------------------------------------------------------ */
function renderPages() {
    if (spread === 0) {
        leftPage.innerHTML = "";
        rightPage.innerHTML = `<img src="${pages[0]}">`;
    } else {
        const leftImg = pages[spread * 2 - 1];
        const rightImg = pages[spread * 2];

        leftPage.innerHTML = leftImg ? `<img src="${leftImg}">` : "";
        rightPage.innerHTML = rightImg ? `<img src="${rightImg}">` : "";
    }
}


/* ------------------------------------------------------ */
/* FLIP PAGE ANIMATION */
/* ------------------------------------------------------ */
function animateFlip(direction, nextSpread) {
    const forward = direction === "forward";

    let flippingImg;
    if (forward) {
        flippingImg = spread === 0 ? pages[0] : pages[spread * 2];
        flipPage.style.left = "550px";
        flipPage.style.transformOrigin = "left center";
    } else {
        flippingImg = pages[(nextSpread * 2) - 1];
        flipPage.style.left = "0px";
        flipPage.style.transformOrigin = "right center";
    }

    flipPage.innerHTML = `<img src="${flippingImg}">`;
    flipPage.style.display = "block";
    flipPage.classList.add("flipping");

    flipPage.style.transition = "none";
    flipPage.style.transform = "rotateY(0deg)";

    requestAnimationFrame(() => {
        flipPage.style.transition =
            "transform 0.45s cubic-bezier(0.4,0.2,0.2,1)";
        flipPage.style.transform = forward
            ? "rotateY(-180deg)"
            : "rotateY(180deg)";
    });

    flipPage.addEventListener("transitionend", () => {
        flipPage.style.display = "none";
        flipPage.classList.remove("flipping");
        flipPage.style.transform = "rotateY(0deg)";
        spread = nextSpread;
        renderPages();
    }, { once: true });
}


/* ------------------------------------------------------ */
/* BUTTONS */
/* ------------------------------------------------------ */
document.getElementById("nextBtn").onclick = () => {
    const maxSpread = Math.floor(pages.length / 2);
    if (spread < maxSpread) animateFlip("forward", spread + 1);
};

document.getElementById("prevBtn").onclick = () => {
    if (spread > 0) animateFlip("backward", spread - 1);
};

document.getElementById("firstBtn").onclick = () => {
    animateFlip("backward", 0);
};

document.getElementById("lastBtn").onclick = () => {
    const maxSpread = Math.floor(pages.length / 2);
    animateFlip("forward", maxSpread);
};


/* ------------------------------------------------------ */
/* THUMBNAIL VIEWER */
/* ------------------------------------------------------ */
pages.forEach((src, i) => {
    const t = document.createElement("img");
    t.src = src;
    t.className = "thumbnail";

    t.onclick = () => {
        const targetSpread = Math.floor(i / 2);
        if (targetSpread > spread)
            animateFlip("forward", targetSpread);
        else if (targetSpread < spread)
            animateFlip("backward", targetSpread);
    };
    thumbStrip.appendChild(t);
});


/* ------------------------------------------------------ */
/* INITIAL RENDER */
/* ------------------------------------------------------ */
renderPages();
</script>

</body>
</html>
